name = "bore-relay"
main = "src/index.ts"
compatibility_date = "2024-05-12"

# Durable Objects (free plan with SQLite storage)
[[durable_objects.bindings]]
name = "BORE_RELAY"
class_name = "BoreRelay"

[[migrations]]
tag = "v1"
new_sqlite_classes = ["BoreRelay"]

# Set your auth token via: wrangler secret put RELAY_TOKEN
# Or in .dev.vars for local development:
#   RELAY_TOKEN=your-secret-token

[vars]
# In-memory cache size (late joiners get these immediately).
# Full history is in SQLite (last 5000 events), served on WS connect.
BUFFER_SIZE = "200"
